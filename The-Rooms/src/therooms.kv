#:kivy 1.8.0

<Back>:
	canvas:
		Rectangle:
			pos: self.x, self.y
			size: self.width, self.height
			texture: self.TEXTURE

<Door>:
	canvas:
		Rectangle:
			pos: self.x, self.y
			size: self.xUnit, self.yUnit
			texture: self.curr_texture

<Lamp>:
	canvas:
		Rectangle:
			pos: self.x, self.y
			size: self.xUnit, self.yUnit
			texture: self.curr_texture

<Menu>:
	canvas:
		Color:
			rgba: 0, 0, 0, .75
		
		Rectangle:
			pos: 0, 0
			size: self.width, self.height
	Button:
		background_color: 1, 1, 1, 0
		x: root.width / 32
		center_y: root.height * 15 / 16
		font_size: root.fontSize * 0.4
		text: 'Hi, Player!'

	Label:
		center_x: root.centerX
		center_y: root.height * 3 / 4
		font_size: root.fontSize
		text: 'The Rooms'

	Button:
		center_x: root.centerX
		center_y: root.centerY
		font_size: root.fontSize * 0.8
		on_press: root.play()
		size: root.width, root.height / 8
		text: 'PLAY'

<Navigator>:
	canvas.before:
		PushMatrix:
		Rotate:
			angle: self.angle
			origin: self.x + self.xUnit / 2, self.y + self.yUnit / 2

	canvas:
		Rectangle:
			pos: self.x, self.y
			size: self.xUnit, self.yUnit
			texture: self.curr_texture
	
	canvas.after:
		PopMatrix:

<Room>:
	navi: navi_arrow
	
	back: back_arrow

	leftDoor: left_door
	centerDoor: center_door
	rightDoor: right_door

	leftLamp: left_lamp
	centerLamp: center_lamp
	rightLamp: right_lamp

	canvas:
		Rectangle:
			pos: self.x, self.y
			size: self.width, self.height
			texture: self.TEXTURE

	Label:
		center_x: root.center_x
		center_y: root.height - root.height / 16
		font_size: root.fontSize
		text: str(0)

	Door:
		id: left_door
	
	Door:
		id: center_door
	
	Door:
		id: right_door

	Lamp:
		id: left_lamp

	Lamp:
		id: center_lamp
	
	Lamp:
		id: right_lamp
	
	Back:
		id: back_arrow
	
	Navigator:
		id: navi_arrow

<TheRoomsGame>:
	menu: btn_menu
	room: room

	Room:
		id: room

	Menu:
		id: btn_menu
